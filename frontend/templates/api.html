<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consumo de API Django</title>
    !-- CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

</head>

<body>

    <h1>Consumo de datos desde la API creada por nosotros</h1>
    <br>
    <button type="button" name="Categoria" id="btnCategoria" class="btn btn-primary" >Llama a la API</button>

    <table class="table table-stripped" id="Categoria">
        <tr>
            <th>ID Categoria</th>
            <th>Nombre Categor√≠a</th>
        </tr>
    </table>

    <br>
    <button type="button" name="Periodista" id="btnPeriodista" class="btn btn-primary" >Llama a la API</button>

    <table class="table table-stripped" id="Periodista">
        <tr>
            <th>ID Periodista</th>
            <th>Nombre</th>
            <th>Email</th>
            <th>Password</th>
        </tr>
    </table>

    <br>
    <button type="button" name="Usuario" id="btnUsuario" class="btn btn-primary" >Llama a la API</button>

    <table class="table table-stripped" id="Usuario">
        <tr>
            <th>Email</th>
            <th>Nombre</th>
            <th>Password</th>
        </tr>
    </table>

    <br>
    <button type="button" name="Imagen" id="btnImagen" class="btn btn-primary" >Llama a la API</button>

    <table class="table table-stripped" id="Imagen">
        <tr>
            <th>ID Imagen</th>
            <th>Texto</th>
            <th>Nombre</th>
            <th>Fecha Registro</th>
            <th>Categoria</th>
            <th>Periodista</th>
        </tr>
    </table>

    <!-- jQuery and JS bundle w/ Popper.js -->
    <script
			  src="https://code.jquery.com/jquery-3.5.1.min.js"
			  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
			  crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
        crossorigin="anonymous"></script>

    <script>
        $(document).ready(function(){
            $('#boton1').click(function(){
                $.getJSON("http://127.0.0.1:8000/api/v1/Categoria/",
                function(data)
                {
                    var fila='';
                    $.each(data, function(key, value)
                    {
                        fila +='<tr>';
                        fila +='<td>';
                        fila += value.idCategoria;
                        fila +='</td>'
                        fila +='<td>';
                        fila += value.nombreCategoria;
                        fila +='</td>'
                        fila +='</tr>';
                    });

                    $('#tabla1').append(fila);
                });

            });
        });

    </script>


    <script>
        $(document).ready(function(){
            $('#boton1').click(function(){
                $.getJSON("http://127.0.0.1:8000/api/v1/Periodista/",
                function(data)
                {
                    var fila='';
                    $.each(data, function(key, value)
                    {
                        fila +='<tr>';
                        fila +='<td>';
                        fila += value.idperiodista;
                        fila +='</td>'
                        fila +='<td>';
                        fila += value.nombre;
                        fila +='</td>'
                        fila +='<td>';
                        fila += value.email;
                        fila +='</td>'
                        fila +='<td>';
                        fila += value.password;
                        fila +='</td>'
                        fila +='</tr>';
                    });

                    $('#tabla1').append(fila);
                });

            });
        });

    </script>

    <script>
        $(document).ready(function(){
            $('#boton1').click(function(){
                $.getJSON("http://127.0.0.1:8000/api/v1/Usuario/",
                function(data)
                {
                    var fila='';
                    $.each(data, function(key, value)
                    {
                        fila +='<tr>';
                        fila +='<td>';
                        fila += value.nombre;
                        fila +='</td>'
                        fila +='<td>';
                        fila += value.email;
                        fila +='</td>'
                        fila +='<td>';
                        fila += value.password;
                        fila +='</td>'
                        fila +='</tr>';
                    });

                    $('#tabla1').append(fila);
                });

            });
        });

    </script>

    <script>
        $(document).ready(function(){
            $('#boton1').click(function(){
                $.getJSON("http://127.0.0.1:8000/api/v1/Imagen/",
                function(data)
                {
                    var fila='';
                    $.each(data, function(key, value)
                    {
                        fila +='<tr>';
                        fila +='<td>';
                        fila += value.idImagen;
                        fila +='</td>'
                        fila +='<td>';
                        fila += value.texto;
                        fila +='</td>'
                        fila +='<td>';
                        fila += value.nombre;
                        fila +='</td>'
                        fila +='<td>';
                        fila += value.fechaRegistro;
                        fila +='</td>'
                        fila +='<td>';
                        fila += value.categoria;
                        fila +='</td>'
                        fila +='<td>';
                        fila += value.periodista;
                        fila +='</td>'
                        fila +='</tr>';
                    });

                    $('#tabla1').append(fila);
                });

            });
        });

    </script>

</body>